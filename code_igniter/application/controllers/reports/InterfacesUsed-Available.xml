<?xml version="1.0" encoding="ISO-8859-1"?>
<report>
	<details>
		<report_name>Interfaces Used - Available</report_name>
		<report_display_in_menu>y</report_display_in_menu>
		<report_sql><![CDATA[SELECT system.id AS `system.id`, system.icon AS `system.icon`, system.type AS `system.type`, system.name AS `system.name`, system.domain AS `system.domain`, system.ip AS `system.ip`, network.alias as `network.alias`, network.net_index AS `network.net_index`, network.description as `network.description`, network.ifadminstatus as `network.ifadminstatus`, network.ip_enabled as `network.ip_enabled`, system.sysuptime AS `system.sysuptime`, (system.sysuptime - network.iflastchange) AS diff, floor((system.sysuptime - network.iflastchange) /60/60/24/100) as diff_days, IF((network.ifadminstatus = 'down') OR (network.ifadminstatus = 'up' AND (network.ip_enabled != 'up' AND network.ip_enabled != 'dormant') AND (((system.sysuptime - network.iflastchange) > 60480000) OR (system.sysuptime < network.iflastchange))), 'available', 'used') AS available FROM network LEFT JOIN system ON (network.system_id = system.id AND network.current = 'y') LEFT JOIN oa_group_sys ON (oa_group_sys.system_id = system.id) WHERE oa_group_sys.group_id = @group AND network.ifadminstatus != '' ORDER BY system.name, network.net_index]]></report_sql>
		<report_view_file>v_report</report_view_file>
		<report_view_contents></report_view_contents>
		<report_processing></report_processing>
		<report_sort_column>0</report_sort_column>
		<report_description>Query to determine if a device interface is available for use.</report_description>
	</details>
	<columns>
		<column>
			<column_order>0</column_order>
			<column_name>Name</column_name>
			<column_variable>system.name</column_variable>
			<column_type>link</column_type>
			<column_link>/devices/</column_link>
			<column_secondary>system.id</column_secondary>
			<column_ternary></column_ternary>
			<column_align>left</column_align>
		</column>
		<column>
			<column_order>1</column_order>
			<column_name>Index</column_name>
			<column_variable>network.net_index</column_variable>
			<column_type>text</column_type>
			<column_link></column_link>
			<column_secondary></column_secondary>
			<column_ternary></column_ternary>
			<column_align>center</column_align>
		</column>
		<column>
			<column_order>2</column_order>
			<column_name>Description</column_name>
			<column_variable>network.description</column_variable>
			<column_type>text</column_type>
			<column_link></column_link>
			<column_secondary></column_secondary>
			<column_ternary></column_ternary>
			<column_align>left</column_align>
		</column>
		<column>
			<column_order>3</column_order>
			<column_name>Alias</column_name>
			<column_variable>network.alias</column_variable>
			<column_type>text</column_type>
			<column_link></column_link>
			<column_secondary></column_secondary>
			<column_ternary></column_ternary>
			<column_align>left</column_align>
		</column>
		<column>
			<column_order>4</column_order>
			<column_name>Admin Status</column_name>
			<column_variable>network.ifAdminStatus</column_variable>
			<column_type>text</column_type>
			<column_link></column_link>
			<column_secondary></column_secondary>
			<column_ternary></column_ternary>
			<column_align>left</column_align>
		</column>
		<column>
			<column_order>5</column_order>
			<column_name>Operational Status</column_name>
			<column_variable>network.ip_enabled</column_variable>
			<column_type>text</column_type>
			<column_link></column_link>
			<column_secondary></column_secondary>
			<column_ternary></column_ternary>
			<column_align>left</column_align>
		</column>
		<column>
			<column_order>6</column_order>
			<column_name>Days Since Changed</column_name>
			<column_variable>diff_days</column_variable>
			<column_type>text</column_type>
			<column_link></column_link>
			<column_secondary></column_secondary>
			<column_ternary></column_ternary>
			<column_align>left</column_align>
		</column>
		<column>
			<column_order>7</column_order>
			<column_name>Availability</column_name>
			<column_variable>available</column_variable>
			<column_type>text</column_type>
			<column_link></column_link>
			<column_secondary></column_secondary>
			<column_ternary></column_ternary>
			<column_align>left</column_align>
		</column>
	</columns>
</report>